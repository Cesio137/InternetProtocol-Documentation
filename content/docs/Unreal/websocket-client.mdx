---
title: Websocket Client
description: How to use Websocket client class
---

import { Step, Steps } from 'fumadocs-ui/components/steps';
import { Tab, Tabs } from 'fumadocs-ui/components/tabs';
import { ImageZoom } from 'fumadocs-ui/components/image-zoom';

## References

<Tabs items={['Include']}>
    <Tab value="Include">#include "Websockets/WebsocketClient.h"</Tab>
</Tabs>

## How to use

<Steps>
  <Step>
    Blueprint: search by [`GetInternetProtocolSubsystem`](/docs/Unreal/subsystem#how-to-use) and call [`CreateWebsocketClient`](/docs/Unreal/subsystem#create-websocket-client) function
  </Step>
  <Step>
    C++: Use the code bellow
    ``` cpp
    #include "Websockets/WebsocketClient.h"

    UWebsocketClient* WebsocketClient = NewObject<UWebsocketClient>();
    ```
  </Step>
</Steps>

## Functions

### Set Host

* Set the `adress` and `port` of host
<ImageZoom src="/img/client-side/websocket/sethost.png" width={207} height={164} />

### Get Local Adress

* Get local IP of client
<ImageZoom src="/img/client-side/websocket/getlocaladress.png" width={227} height={76} />

### Get Local Port

* Get local port of client
<ImageZoom src="/img/client-side/websocket/getlocalport.png" width={227} height={76} />

### Get Remote Adress

* Get host IP
<ImageZoom src="/img/client-side/websocket/getremoteadress.png" width={227} height={76} />

### Get Remote Port

* Get host port
<ImageZoom src="/img/client-side/websocket/getremoteport.png" width={227} height={76} />

### Set Timeout

* Set timeout in seconds
<ImageZoom src="/img/client-side/websocket/settimeout.png" width={207} height={134} />

### Get Timeout

* Get timeout in seconds
<ImageZoom src="/img/client-side/websocket/gettimeout.png" width={227} height={76} />

### Set Max Attemp

* Set max times to try reconnect
<ImageZoom src="/img/client-side/websocket/setmaxattemp.png" width={206} height={130} />

### Get Max Attemp

* Get max times to try reconnect
<ImageZoom src="/img/client-side/websocket/getmaxattemp.png" width={227} height={76} />

### Set Max Send Buffer Size

* Set max size in bytes of send buffer
<ImageZoom src="/img/client-side/websocket/setmaxsend.png" width={213} height={133} />

### Get Max Send Buffer Size

* Get max size in bytes of send buffer
<ImageZoom src="/img/client-side/websocket/getmaxsend.png" width={227} height={76} />

### Set Split Package

* If the size of a message exceeds the maximum allowed size for the send buffer, it will be divided into smaller packets before being sent.
<ImageZoom src="/img/client-side/websocket/setsplitpackage.png" width={207} height={136} />

### Get Split Package

* Get if Split Package is enabled
<ImageZoom src="/img/client-side/websocket/getsplitpackage.png" width={227} height={76} />

### Send

* Send a string message
* Return true if It's able to send
* Warning: If youâ€™re using Windows, ensure that you are sending characters compatible with UTF-8
<ImageZoom src="/img/client-side/websocket/send.png" width={229} height={134} />

### Send Raw

* Send a buffer message
* Return true if It's able to send
<ImageZoom src="/img/client-side/websocket/sendraw.png" width={227} height={130} />

### Send Ping

* Send a ping to websocket server
* Return true if It's able to send
<ImageZoom src="/img/client-side/websocket/sendping.png" width={227} height={104} />

### Async Read

* In case an error occurs during the asynchronous message reception, you can use the function below to reactivate the async reading
* Return true if It's able to read
<ImageZoom src="/img/client-side/websocket/asyncread.png" width={224} height={103} />

### Connect

* Connect to the host
* Return true if It's able to connect
<ImageZoom src="/img/client-side/websocket/connect.png" width={227} height={103} />

### Is Connected

* Check if client is connected to the host
<ImageZoom src="/img/client-side/websocket/isconnected.png" width={227} height={76} />

### Close

* Close connection
<ImageZoom src="/img/client-side/websocket/close.png" width={207} height={104} />

### Get Error Code

* Get latest error code
<ImageZoom src="/img/client-side/websocket/geterrorcode.png" width={227} height={76} />

### Get Error Message

* Get latest error message
<ImageZoom src="/img/client-side/websocket/geterrormessage.png" width={227} height={76} />

## Handshake Functions

[Handshake](https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers#client_handshake_request) is a http request to contact the server and requesting a WebSocket connection

### Set Path

* Set request version
<ImageZoom src="/img/client-side/websocket/setpath.png" width={207} height={134} />

### Get Path

* Get request version
<ImageZoom src="/img/client-side/websocket/getpath.png" width={227} height={76} />

### Set Version

* Set request version
<ImageZoom src="/img/client-side/websocket/setversion.png" width={204} height={133} />

### Get Version

* Get request version
<ImageZoom src="/img/client-side/websocket/getversion.png" width={227} height={76} />

### Set Key

* Set request key
<ImageZoom src="/img/client-side/websocket/setkey.png" width={262} height={146} />

### Get Key

* Get request key
<ImageZoom src="/img/client-side/websocket/getkey.png" width={227} height={76} />

### Set Origin

* Set request origin
<ImageZoom src="/img/client-side/websocket/setorigin.png" width={207} height={134} />

### Get Origin

* Get request origin
<ImageZoom src="/img/client-side/websocket/getorigin.png" width={227} height={76} />

### Set Sec Protocol

* Set request security protocol
<ImageZoom src="/img/client-side/websocket/setsecprotocol.png" width={214} height={134} />

### Get Sec Protocol

* Get request security protocol
<ImageZoom src="/img/client-side/websocket/getsecprotocol.png" width={227} height={76} />

### Set Sec Version

* Set request security version
<ImageZoom src="/img/client-side/websocket/setsecversion.png" width={206} height={133} />

### Get Sec Version

* Get request security version
<ImageZoom src="/img/client-side/websocket/getsecversion.png" width={227} height={76} />

## Dataframe Functions

### Set RSV1
<ImageZoom src="/img/client-side/websocket/setrsv1.png" width={204} height={133} />

### Use RSV1
<ImageZoom src="/img/client-side/websocket/usersv1.png" width={227} height={76} />

### Set RSV2
<ImageZoom src="/img/client-side/websocket/setrsv2.png" width={207} height={136} />

### Use RSV2
<ImageZoom src="/img/client-side/websocket/usersv2.png" width={226} height={76} />

### Set RSV3
<ImageZoom src="/img/client-side/websocket/setrsv3.png" width={207} height={136} />

### Use RSV3
<ImageZoom src="/img/client-side/websocket/usersv3.png" width={227} height={76} />

### Set Mask
<ImageZoom src="/img/client-side/websocket/setmask.png" width={207} height={136} />

### Use Mask
<ImageZoom src="/img/client-side/websocket/usemask.png" width={227} height={76} />

## Events

### On Connected

* Event triggered when a connection is estabilished
<ImageZoom src="/img/client-side/websocket/onconnected.png" width={225} height={185} />

### On Close

* Event triggered when a connection is closed
<ImageZoom src="/img/client-side/websocket/onclose.png" width={195} height={186} />

### On Close Notify

* Event triggered when a server send a close notification
<ImageZoom src="/img/client-side/websocket/onclosenotify.png" width={234} height={186} />

### On Connection Will Retry

* Event triggered when every time It's try recconnect
<ImageZoom src="/img/client-side/websocket/onconnectionwillretry.png" width={286} height={212} />

### On Message Sent

* Event triggered when a message is sent
<ImageZoom src="/img/client-side/websocket/onmessagesent.png" width={246} height={212} />

### On Message Received

* Event triggered when a message is received
<ImageZoom src="/img/client-side/websocket/onmessagereceived.png" width={248} height={212} />

### On Pong Received

* Event triggered when a pong message is received
<ImageZoom src="/img/client-side/websocket/onpongreceived.png" width={248} height={186} />

### On Error

* Event triggered if any error occur during async process
<ImageZoom src="/img/client-side/websocket/onpongreceived.png" width={198} height={238} />