---
title: Websocket Client
description: How to use Websocket client class
---

import { Step, Steps } from "fumadocs-ui/components/steps";
import { Tab, Tabs } from "fumadocs-ui/components/tabs";
import { ImageZoom } from "fumadocs-ui/components/image-zoom";

## References

<Tabs items={["Include"]}>
    <Tab value="Include">#include "WS/WSClient.h"</Tab>
</Tabs>

## How to use

<Steps>
  <Step>
    Blueprint: search by [`GetInternetProtocolSubsystem`](/docs/Unreal/subsystem#how-to-use) and call [`CreateWebsocketClient`](/docs/Unreal/subsystem#create-websocket-client) function
  </Step>
  <Step>
    C++: Use the code bellow
    ``` cpp
    #include "Websockets/WebsocketClient.h"

    UWSClient* WSClient = NewObject<UWSClient>();
    ```

  </Step>
</Steps>

## Functions

### Set Host

-   Set the `adress` and `port` of host
    <ImageZoom
        src="/img/client-side/websocket/sethost.png"
        alt="WS client"
        width={207}
        height={164}
    />

### Get Socket

-   Get socket properties
    <ImageZoom
        src="/img/client-side/websocket/getsocket.png"
        alt="WS client"
        width={130}
        height={56}
    />

### Set Max Send Buffer Size

-   Set max size in bytes of send buffer
    <ImageZoom
        src="/img/client-side/websocket/setmaxsend.png"
        alt="WS client"
        width={213}
        height={133}
    />

### Get Max Send Buffer Size

-   Get max size in bytes of send buffer
    <ImageZoom
        src="/img/client-side/websocket/getmaxsend.png"
        alt="WS client"
        width={227}
        height={76}
    />

### Set Split Package

-   If the size of a message exceeds the maximum allowed size for the send buffer, it will be divided into smaller packets before being sent.
    <ImageZoom
        src="/img/client-side/websocket/setsplitpackage.png"
        alt="WS client"
        width={207}
        height={136}
    />

### Get Split Package

-   Get if Split Package is enabled
    <ImageZoom
        src="/img/client-side/websocket/getsplitpackage.png"
        alt="WS client"
        width={227}
        height={76}
    />

### Send Str

-   Send a string message
-   Return false if socket is closed or string is empty
-   Warning: If youâ€™re using Windows, ensure that you are sending characters compatible with UTF-8
    <ImageZoom
        src="/img/client-side/websocket/sendstr.png"
        alt="WS client"
        width={229}
        height={134}
    />

### Send Buffer

-   Send a buffer message
-   Return false if socket is closed or buffer is empty
    <ImageZoom
        src="/img/client-side/websocket/sendbuffer.png"
        alt="WS client"
        width={227}
        height={130}
    />

### Send Ping

-   Send a ping to websocket server
-   Return false if socket is closed
    <ImageZoom
        src="/img/client-side/websocket/sendping.png"
        alt="WS client"
        width={227}
        height={104}
    />

### Connect

-   Connect to the host
-   Return false if its already open
    <ImageZoom
        src="/img/client-side/websocket/connect.png"
        alt="WS client"
        width={227}
        height={103}
    />

### Close

-   Close connection
    <ImageZoom
        src="/img/client-side/websocket/close.png"
        alt="WS client"
        width={207}
        height={104}
    />

### Get Error Code

-   Get latest error code
    <ImageZoom
        src="/img/client-side/websocket/geterrorcode.png"
        alt="WS client"
        width={227}
        height={76}
    />

## Handshake Functions

[Handshake](https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers#client_handshake_request) is a http request to contact the server and requesting a WebSocket connection

### Set Headers

-   Set handshake request headers
    <ImageZoom
        src="/img/client-side/websocket/setheaders.png"
        alt="WS client"
        width={163}
        height={132}
    />

### Get Header

-   Get reference to handshake request headers
-   Use this function to append or modify headers
    <ImageZoom
        src="/img/client-side/websocket/getheaders.png"
        alt="WS client"
        width={138}
        height={58}
    />

## Dataframe Functions

### Set RSV1

<ImageZoom
    src="/img/client-side/websocket/setrsv1.png"
    alt="WS client"
    width={204}
    height={133}
/>

### Use RSV1

<ImageZoom
    src="/img/client-side/websocket/usersv1.png"
    alt="WS client"
    width={227}
    height={76}
/>

### Set RSV2

<ImageZoom
    src="/img/client-side/websocket/setrsv2.png"
    alt="WS client"
    width={207}
    height={136}
/>

### Use RSV2

<ImageZoom
    src="/img/client-side/websocket/usersv2.png"
    alt="WS client"
    width={226}
    height={76}
/>

### Set RSV3

<ImageZoom
    src="/img/client-side/websocket/setrsv3.png"
    alt="WS client"
    width={207}
    height={136}
/>

### Use RSV3

<ImageZoom
    src="/img/client-side/websocket/usersv3.png"
    alt="WS client"
    width={227}
    height={76}
/>

### Set Mask

<ImageZoom
    src="/img/client-side/websocket/setmask.png"
    alt="WS client"
    width={207}
    height={136}
/>

### Use Mask

<ImageZoom
    src="/img/client-side/websocket/usemask.png"
    alt="WS client"
    width={227}
    height={76}
/>

## Events

### On Connected

-   Event triggered when a connection is estabilished
    <ImageZoom
        src="/img/client-side/websocket/onconnectedevent.png"
        alt="WS client"
        width={225}
        height={212}
    />

### On Bytes Transfered

-   Event triggered when socket sent and receive data
    <ImageZoom
        src="/img/client-side/websocket/onbytestransferedevent.png"
        alt="WS client"
        width={269}
        height={237}
    />

### On Message Sent

-   Event triggered when a message is sent
    <ImageZoom
        src="/img/client-side/websocket/onmessagesentevent.png"
        alt="WS client"
        width={246}
        height={212}
    />

### On Message Received

-   Event triggered when a message is received
    <ImageZoom
        src="/img/client-side/websocket/onmessagereceivedevent.png"
        alt="WS client"
        width={272}
        height={212}
    />

### On Pong Received

-   Event triggered when a pong message is received
    <ImageZoom
        src="/img/client-side/websocket/onpongreceivedevent.png"
        alt="WS client"
        width={248}
        height={186}
    />

### On Close Notify

-   Event triggered when a server send a close notification
    <ImageZoom
        src="/img/client-side/websocket/onclosenotifyevent.png"
        alt="WS client"
        width={234}
        height={186}
    />

### On Close

-   Event triggered when a connection is closed
    <ImageZoom
        src="/img/client-side/websocket/oncloseevent.png"
        alt="WS client"
        width={195}
        height={186}
    />

### On Handshke Fail

-   Event triggered if any error occur during handshake.
-   Normally, when a handshake error occurs, the socket is automatically closed, triggering the `on_close` event.
    <ImageZoom
        src="/img/client-side/websocket/onhandshakefailevent.png"
        alt="WS client"
        width={251}
        height={212}
    />

### On Error

-   Event triggered if any error occur during async process
    <ImageZoom
        src="/img/client-side/websocket/onerrorevent.png"
        alt="WS client"
        width={192}
        height={212}
    />
